(()=>{"use strict";const e={en:[{small:"`",shift:"~",code:"Backquote",size:"common"},{small:"1",shift:"!",code:"Digit1",size:"common"},{small:"2",shift:"@",code:"Digit2",size:"common"},{small:"3",shift:"#",code:"Digit3",size:"common"},{small:"4",shift:"$",code:"Digit4",size:"common"},{small:"5",shift:"%",code:"Digit5",size:"common"},{small:"6",shift:"^",code:"Digit6",size:"common"},{small:"7",shift:"&",code:"Digit7",size:"common"},{small:"8",shift:"*",code:"Digit8",size:"common"},{small:"9",shift:"(",code:"Digit9",size:"common"},{small:"0",shift:")",code:"Digit0",size:"common"},{small:"-",shift:"_",code:"NumpadSubtract",size:"common"},{small:"=",shift:"+",code:"Equal",size:"common"},{small:"Backspace",shift:"Backspace",code:"Backspace",size:"double"},{small:"Tab",shift:"Tab",code:"Tab",size:"double"},{small:"q",shift:"Q",code:"KeyQ",size:"common"},{small:"w",shift:"W",code:"KeyW",size:"common"},{small:"e",shift:"E",code:"KeyE",size:"common"},{small:"r",shift:"R",code:"KeyR",size:"common"},{small:"t",shift:"T",code:"KeyT",size:"common"},{small:"y",shift:"Y",code:"KeyY",size:"common"},{small:"u",shift:"U",code:"KeyU",size:"common"},{small:"i",shift:"I",code:"KeyI",size:"common"},{small:"o",shift:"O",code:"KeyO",size:"common"},{small:"p",shift:"P",code:"KeyP",size:"common"},{small:"[",shift:"{",code:"BracketLeft",size:"common"},{small:"]",shift:"}",code:"BracketRight",size:"common"},{small:"\\",shift:"|",code:"Backslash",size:"common"},{small:"Delete",shift:"Delete",code:"Delete",size:"common"},{small:"CapsLock",shift:"CapsLock",code:"CapsLock",size:"double"},{small:"a",shift:"A",code:"KeyA",size:"common"},{small:"s",shift:"S",code:"KeyS",size:"common"},{small:"d",shift:"D",code:"KeyD",size:"common"},{small:"f",shift:"F",code:"KeyF",size:"common"},{small:"g",shift:"G",code:"KeyG",size:"common"},{small:"h",shift:"H",code:"KeyH",size:"common"},{small:"j",shift:"J",code:"KeyJ",size:"common"},{small:"k",shift:"K",code:"KeyK",size:"common"},{small:"l",shift:"L",code:"KeyL",size:"common"},{small:";",shift:":",code:"Semicolon",size:"common"},{small:"'",shift:'"',code:"Quote",size:"common"},{small:"Enter",shift:"Enter",code:"Enter",size:"double"},{small:"Shift",shift:"Shift",code:"ShiftLeft",size:"double"},{small:"z",shift:"Z",code:"KeyZ",size:"common"},{small:"x",shift:"X",code:"KeyX",size:"common"},{small:"c",shift:"C",code:"KeyC",size:"common"},{small:"v",shift:"V",code:"KeyV",size:"common"},{small:"b",shift:"B",code:"KeyB",size:"common"},{small:"n",shift:"N",code:"KeyN",size:"common"},{small:"m",shift:"M",code:"KeyM",size:"common"},{small:",",shift:"<",code:"Comma",size:"common"},{small:".",shift:">",code:"Period",size:"common"},{small:"/",shift:"?",code:"Slash",size:"common"},{small:"&uarr;",shift:"&uarr;",code:"ArrowUp",size:"common"},{small:"Shift",shift:"Shift",code:"ShiftRight",size:"double"},{small:"Ctrl",shift:"Ctrl",code:"ControlLeft",size:"common"},{small:"Win",shift:"Win",code:"MetaLeft",size:"common"},{small:"Alt",shift:"Alt",code:"AltLeft",size:"common"},{small:"Space",shift:"Space",code:"Space",size:"space_button"},{small:"Alt",shift:"Alt",code:"AltRight",size:"common"},{small:"&larr;",shift:"&larr;",code:"ArrowLeft",size:"common"},{small:"&darr;",shift:"&darr;",code:"ArrowDown",size:"common"},{small:"&rarr;",shift:"&rarr;",code:"ArrowRight",size:"common"},{small:"Ctrl",shift:"Ctrl",code:"ControlRight",size:"common"}],ru:[{small:"ё",shift:"Ё",code:"Backquote",size:"common"},{small:"1",shift:"!",code:"Digit1",size:"common"},{small:"2",shift:'"',code:"Digit2",size:"common"},{small:"3",shift:"№",code:"Digit3",size:"common"},{small:"4",shift:";",code:"Digit4",size:"common"},{small:"5",shift:"%",code:"Digit5",size:"common"},{small:"6",shift:":",code:"Digit6",size:"common"},{small:"7",shift:"?",code:"Digit7",size:"common"},{small:"8",shift:"*",code:"Digit8",size:"common"},{small:"9",shift:"(",code:"Digit9",size:"common"},{small:"0",shift:")",code:"Digit0",size:"common"},{small:"-",shift:"_",code:"NumpadSubtract",size:"common"},{small:"=",shift:"+",code:"Equal",size:"common"},{small:"Backspace",shift:"Backspace",code:"Backspace",size:"double"},{small:"Tab",shift:"Tab",code:"Tab",size:"double"},{small:"й",shift:"Й",code:"KeyQ",size:"common"},{small:"ц",shift:"Ц",code:"KeyW",size:"common"},{small:"у",shift:"У",code:"KeyE",size:"common"},{small:"к",shift:"К",code:"KeyR",size:"common"},{small:"е",shift:"Е",code:"KeyT",size:"common"},{small:"н",shift:"Н",code:"KeyY",size:"common"},{small:"г",shift:"Г",code:"KeyU",size:"common"},{small:"ш",shift:"Ш",code:"KeyI",size:"common"},{small:"щ",shift:"Щ",code:"KeyO",size:"common"},{small:"з",shift:"З",code:"KeyP",size:"common"},{small:"х",shift:"Х",code:"BracketLeft",size:"common"},{small:"ъ",shift:"Ъ",code:"BracketRight",size:"common"},{small:"\\",shift:"/",code:"Backslash",size:"common"},{small:"Delete",shift:"Delete",code:"Delete",size:"common"},{small:"CapsLock",shift:"CapsLock",code:"CapsLock",size:"double"},{small:"ф",shift:"Ф",code:"KeyA",size:"common"},{small:"ы",shift:"Ы",code:"KeyS",size:"common"},{small:"в",shift:"В",code:"KeyD",size:"common"},{small:"а",shift:"А",code:"KeyF",size:"common"},{small:"п",shift:"П",code:"KeyG",size:"common"},{small:"р",shift:"Р",code:"KeyH",size:"common"},{small:"о",shift:"О",code:"KeyJ",size:"common"},{small:"л",shift:"Л",code:"KeyK",size:"common"},{small:"д",shift:"Д",code:"KeyL",size:"common"},{small:"ж",shift:"Ж",code:"Semicolon",size:"common"},{small:"э",shift:"Э",code:"Quote",size:"common"},{small:"Enter",shift:"Enter",code:"Enter",size:"double"},{small:"Shift",shift:"Shift",code:"ShiftLeft",size:"double"},{small:"я",shift:"Я",code:"KeyZ",size:"common"},{small:"ч",shift:"Ч",code:"KeyX",size:"common"},{small:"с",shift:"С",code:"KeyC",size:"common"},{small:"м",shift:"М",code:"KeyV",size:"common"},{small:"и",shift:"И",code:"KeyB",size:"common"},{small:"т",shift:"Т",code:"KeyN",size:"common"},{small:"ь",shift:"Ь",code:"KeyM",size:"common"},{small:"б",shift:"Б",code:"Comma",size:"common"},{small:"ю",shift:"Ю",code:"Period",size:"common"},{small:".",shift:",",code:"Slash",size:"common"},{small:"&uarr;",shift:"&uarr;",code:"ArrowUp",size:"common"},{small:"Shift",shift:"Shift",code:"ShiftRight",size:"double"},{small:"Ctrl",shift:"Ctrl",code:"ControlLeft",size:"common"},{small:"Win",shift:"Win",code:"MetaLeft",size:"common"},{small:"Alt",shift:"Alt",code:"AltLeft",size:"common"},{small:"Space",shift:"Space",code:"Space",size:"space_button"},{small:"Alt",shift:"Alt",code:"AltRight",size:"common"},{small:"&larr;",shift:"&larr;",code:"ArrowLeft",size:"common"},{small:"&darr;",shift:"&darr;",code:"ArrowDown",size:"common"},{small:"&rarr;",shift:"&rarr;",code:"ArrowRight",size:"common"},{small:"Ctrl",shift:"Ctrl",code:"ControlRight",size:"common"}]},s=[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","NumpadSubtract","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight"],["ControlLeft","MetaLeft","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"]],t=new class{constructor(){this.main=document.createElement("div"),this.textarea=document.createElement("textarea"),this.text=document.createElement("p"),this.lang="en",this.capsLockPressed=!1,this.shiftPressed=!1,this.upperCase=!1,this.numRow=!1,this.left="",this.right="",this.value="",this.keys=""}init(){localStorage.getItem("lang")&&(this.lang=localStorage.getItem("lang")),this.main.classList.add("keyboard"),this.main.appendChild(this.createKeys()),this.textarea.setAttribute("placeholder","Start typing..."),this.textarea.setAttribute("spellcheck","false"),this.textarea.setAttribute("wrap","hard"),this.text=document.createElement("p"),this.text.textContent=`Toggle language: Left Shift + Left Ctrl. Designed for Windows. Current language: ${this.lang.toUpperCase()}`,document.body.prepend(this.text),document.body.prepend(this.main),document.body.prepend(this.textarea),this.createKeys(),this.keys=document.getElementsByClassName("keyboard__key"),document.addEventListener("keydown",(e=>this.onKeyDown(e))),document.addEventListener("keyup",(e=>this.onKeyUp(e))),this.textarea.addEventListener("click",(()=>this.cursorPos()))}createKeys(){const t=document.createDocumentFragment();return s.forEach(((s,i)=>{const o=document.createElement("div");o.classList.add("keyboard__row",`row_${i+1}`),s.forEach((s=>{const t=document.createElement("button"),i=e[`${this.lang}`].find((e=>e.code===s));switch(t.setAttribute("type","button"),t.classList.add("keyboard__key",`key_${i.code}`),t.setAttribute("data-keycode",`${i.code}`),t.innerHTML=i.small,s){case"ShiftRight":case"ShiftLeft":t.addEventListener("mousedown",(()=>{this.numRow=!this.numRow,this.upperCase=!this.upperCase,this.switchCase(),this.switchNum()})),t.addEventListener("mouseup",(()=>{this.numRow=!this.numRow,this.upperCase=!this.upperCase,this.switchCase(),this.switchNum()}));break;case"CapsLock":t.addEventListener("click",(()=>{this.upperCase=!this.upperCase,document.querySelector(".key_CapsLock").classList.toggle("key_CapsLock--active"),this.switchCase()}));break;case"Delete":t.addEventListener("click",(()=>{this.right=this.right.slice(1),this.updateTextArea()}));break;case"Backspace":t.addEventListener("click",(()=>{this.left=this.left.slice(0,-1),this.updateTextArea()}));break;case"Tab":t.addEventListener("click",(()=>{this.left+="\t",this.updateTextArea()}));break;case"Enter":t.addEventListener("click",(()=>{this.left+="\n",this.updateTextArea()}));break;case"Space":t.addEventListener("click",(()=>{this.left+=" ",this.updateTextArea()}));break;default:t.innerHTML.length<2&&t.addEventListener("click",(()=>{this.left+=t.textContent,this.updateTextArea()}))}o.appendChild(t)})),t.appendChild(o)})),t}cursorPos(){this.left=this.value.slice(0,this.textarea.selectionStart),this.right=this.value.slice(this.textarea.selectionStart)}updateTextArea(){this.value=this.left+this.right,this.textarea.value=this.value,this.textarea.selectionStart=this.left.length,this.textarea.selectionEnd=this.left.length,this.textarea.focus(),this.cursorPos()}switchNum(){Array.from(this.keys).forEach(((s,t)=>{const i=e[`${this.lang}`].find((e=>e.code===s.dataset.keycode));i.shift.toLowerCase()!==i.small&&(this.keys[t].innerHTML=this.numRow?i.shift:i.small)}))}switchCase(){Array.from(this.keys).forEach(((s,t)=>{const i=e[`${this.lang}`].find((e=>e.code===s.dataset.keycode));i.shift.toLowerCase()===i.small&&(this.keys[t].innerHTML=this.upperCase?i.shift:i.small)})),this.text.textContent=`Toggle language: Left Shift + Left Ctrl. Designed for Windows. Current language: ${this.lang.toUpperCase()}`}onKeyDown(e){e.code.match(/F\d\d?/g)||e.preventDefault(),"ShiftLeft"===e.code&&e.ctrlKey&&(this.lang="en"===this.lang?"ru":"en",localStorage.setItem("lang",this.lang)),"Shift"===e.key&&(this.shiftPressed||(this.numRow=!this.numRow,this.upperCase=!this.upperCase,this.switchCase(),this.switchNum()),this.shiftPressed=!0),Array.from(this.keys).forEach((s=>{s.dataset.keycode===e.code&&("CapsLock"===e.code?this.capsLockPressed||(s.click(),s.classList.add("clicked"),this.capsLockPressed=!0):(s.click(),s.classList.add("clicked")))}))}onKeyUp(e){"Shift"===e.key&&(this.numRow=!this.numRow,this.upperCase=!this.upperCase,this.switchCase(),this.switchNum(),this.shiftPressed=!1),"CapsLock"===e.code&&(this.capsLockPressed=!1),Array.from(this.keys).forEach((s=>{s.dataset.keycode===e.code&&s.classList.remove("clicked")}))}};window.addEventListener("DOMContentLoaded",(()=>{t.init()}))})();
//# sourceMappingURL=main.c589c813b92e7e27cdd2.js.map